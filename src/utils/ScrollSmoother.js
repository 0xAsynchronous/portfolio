/*!
 * ScrollSmoother 3.11.5
 * https://greensock.com
 *
 * @license Copyright 2023, GreenSock. All rights reserved.
 * *** DO NOT DEPLOY THIS FILE ***
 * This is a trial version that only works locally and on domains like codepen.io and codesandbox.io.
 * Loading it on an unauthorized domain violates the license and will cause a redirect.
 * Get the unrestricted file by joining Club GreenSock at https://greensock.com/club
 * @author: Jack Doyle, jack@greensock.com
 */ let e,t,r,o,s,i,n,a,l,c,d,h,g,f,p,u=()=>"undefined"!=typeof window,m=()=>e||u()&&(e=window.gsap)&&e.registerPlugin&&e,v=function(){return String.fromCharCode.apply(null,arguments)},y=v(103,114,101,101,110,115,111,99,107,46,99,111,109),w=!0;class S{constructor($){t||S.register(e)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),$=this.vars=$||{},c&&c.kill(),c=this,f(this);let _,b,T,x,E,P,R,k,C,A,z,H,B,L,I,{smoothTouch:U,onUpdate:V,onStop:D,smooth:O,onFocusIn:F,normalizeScroll:M,wholePixels:N}=$,Y=this,q=$.effectsPrefix||"",K=l.getScrollFunc(r),W=1===l.isTouch?!0===U?.8:parseFloat(U)||0:0===O||!1===O?0:parseFloat(O)||.8,j=W&&+$.speed||1,G=0,J=0,Q=1,X=h(0),Z=()=>X.update(-G),ee={y:0},et=()=>_.style.overflow="visible",er=$=>{$.update();let _=$.getTween();_&&(_.pause(),_._time=_._dur,_._tTime=_._tDur),L=!1,$.animation.progress($.progress,!0)},es=($,b)=>{($!==G&&!A||b)&&(N&&($=Math.round($)),W&&(_.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+$+", 0, 1)",_._gsap.y=$+"px"),J=$-G,G=$,l.isUpdating||S.isRefreshing||l.update())},eo=function($){return arguments.length?($<0&&($=0),ee.y=-$,L=!0,A?G=-$:es(-$),l.isRefreshing?x.update():K($/j),this):-G},ei="undefined"!=typeof ResizeObserver&&!1!==$.autoResize&&new ResizeObserver(()=>{if(!l.isRefreshing){let $=l.maxScroll(b);$<-G&&eo($),p.restart(!0)}}),en=$=>{b.scrollTop=0,$.target.contains&&$.target.contains(b)||F&&!1===F(this,$)||(l.isInViewport($.target)||$.target===I||this.scrollTo($.target,!1,"center center"),I=$.target)},el=($,_)=>{let b,T,x,P;E.forEach(_=>{b=_.pins,P=_.markers,$.forEach($=>{_.trigger&&$.trigger&&_!==$&&($.trigger===_.trigger||$.pinnedContainer===_.trigger||_.trigger.contains($.trigger))&&(x=((T=$.start)-_.start-_.offset)/_.ratio-(T-_.start),b.forEach($=>x-=$.distance/_.ratio-$.distance),$.setPositions(T+x,$.end+x),$.markerStart&&P.push(e.quickSetter([$.markerStart,$.markerEnd],"y","px")),$.pin&&$.end>0&&(x=$.end-$.start,b.push({start:$.start,end:$.end,distance:x,trig:$}),_.setPositions(_.start,_.end+x),_.vars.onRefresh(_)))})})},ea=()=>{et(),requestAnimationFrame(et),E&&(E.forEach($=>{let _=$.start,b=$.auto?Math.min(l.maxScroll($.scroller),$.end):_+($.end-_)/$.ratio,T=(b-$.end)/2;_-=T,b-=T,$.offset=T||1e-4,$.pins.length=0,$.setPositions(Math.min(_,b),Math.max(_,b)),$.vars.onRefresh($)}),el(l.sort())),X.reset()},ec=()=>l.addEventListener("refresh",ea),eh=()=>E&&E.forEach($=>$.vars.onRefresh($)),eg=()=>(E&&E.forEach($=>$.vars.onRefreshInit($)),eh),ed=($,_,b,T)=>()=>{let x="function"==typeof _?_(b,T):_;return x||0===x||(x=T.getAttribute("data-"+q+$)||("speed"===$?1:0)),T.setAttribute("data-"+q+$,x),"auto"===x?x:parseFloat(x)},ef=($,_,T,x,P)=>{P=("function"==typeof P?P(x,$):P)||0;let R,k,C,A,z,H,B=ed("speed",_,x,$),L=ed("lag",T,x,$),I=e.getProperty($,"y"),U=$._gsap,V=()=>{_=B(),T=L(),R=parseFloat(_)||1,z=(C="auto"===_)?0:.5,A&&A.kill(),A=T&&e.to($,{ease:d,overwrite:!1,y:"+=0",duration:T}),k&&(k.ratio=R,k.autoSpeed=C)},D=()=>{U.y=I+"px",U.renderTransform(1),V()},O=[],F=[],M=0,N=_=>{if(C){D();let b=(($,_)=>{let b,T,x=$.parentNode||s,E=$.getBoundingClientRect(),P=x.getBoundingClientRect(),R=P.top-E.top,k=P.bottom-E.bottom,C=(Math.abs(R)>Math.abs(k)?R:k)/(1-_),A=-C*_;return C>0&&(T=.5==(b=P.height/(r.innerHeight+P.height))?2*P.height:2*Math.min(P.height,-C*b/(2*b-1))*(_||1),A+=_?-T*_:-T/2,C+=T),{change:C,offset:A}})($,a(0,1,-_.start/(_.end-_.start)));M=b.change,H=b.offset}else M=(_.end-_.start)*(1-R),H=0;O.forEach($=>M-=$.distance*(1-R)),_.vars.onUpdate(_),A&&A.progress(1)};return V(),(1!==R||C||A)&&(k=l.create({trigger:C?$.parentNode:$,start:"top bottom+="+P,end:"bottom top-="+P,scroller:b,scrub:!0,refreshPriority:-999,onRefreshInit:D,onRefresh:N,onKill($){let _=E.indexOf($);_>=0&&E.splice(_,1),D()},onUpdate($){var _;let b,T,x,E=I+M*($.progress-z),P=O.length,R=0;if($.offset){if(P){for(T=-G,x=$.end;P--;){if((b=O[P]).trig.isActive||T>=b.start&&T<=b.end)return void(A&&(b.trig.progress+=b.trig.direction<0?.001:-.001,b.trig.update(0,0,1),A.resetTo("y",parseFloat(U.y),-J,!0),Q&&A.progress(1)));T>b.end&&(R+=b.distance),x-=b.distance}E=I+R+M*((e.utils.clamp($.start,$.end,T)-$.start-R)/(x-$.start)-z)}E=Math.round(1e5*(_=E+H))/1e5||0,F.length&&!C&&F.forEach($=>$(E-R)),A?(A.resetTo("y",E,-J,!0),Q&&A.progress(1)):(U.y=E+"px",U.renderTransform(1))}}}),N(k),e.core.getCache(k.trigger).stRevert=eg,k.startY=I,k.pins=O,k.markers=F,k.ratio=R,k.autoSpeed=C,$.style.willChange="transform"),k};function ep(){return T=_.clientHeight,_.style.overflow="visible",i.style.height=r.innerHeight+(T-r.innerHeight)/j+"px",T-r.innerHeight}ec(),l.addEventListener("killAll",ec),e.delayedCall(.5,()=>Q=0),this.scrollTop=eo,this.scrollTo=($,_,b)=>{let T=e.utils.clamp(0,l.maxScroll(r),isNaN($)?this.offset($,b):+$);_?A?e.to(this,{duration:W,scrollTop:T,overwrite:"auto",ease:d}):K(T):eo(T)},this.offset=($,_)=>{let b,T=($=n($)[0]).style.cssText,x=l.create({trigger:$,start:_||"top top"});return E&&el([x]),b=x.start/j,x.kill(!1),$.style.cssText=T,e.core.getCache($).uncache=1,b},this.content=function($){if(arguments.length){let b=n($||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||i.children[0];return b!==_&&(C=(_=b).getAttribute("style")||"",ei&&ei.observe(_),e.set(_,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),W||e.set(_,{clearProps:"transform"})),this}return _},this.wrapper=function($){return arguments.length?(k=(b=n($||"#smooth-wrapper")[0]||w(_)).getAttribute("style")||"",ep(),e.set(b,W?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):b},this.effects=($,_)=>{if(E||(E=[]),!$)return E.slice(0);($=n($)).forEach($=>{let _=E.length;for(;_--;)E[_].trigger===$&&E[_].kill()});let b,T,{speed:x,lag:P,effectsPadding:R}=_=_||{},k=[];for(b=0;b<$.length;b++)(T=ef($[b],x,P,b,R))&&k.push(T);return E.push(...k),k},this.sections=($,_)=>{if(P||(P=[]),!$)return P.slice(0);let b=n($).map($=>l.create({trigger:$,start:"top 120%",end:"bottom -20%",onToggle(_){$.style.opacity=_.isActive?"1":"0",$.style.pointerEvents=_.isActive?"all":"none"}}));return _&&_.add?P.push(...b):P=b.slice(0),b},this.content($.content),this.wrapper($.wrapper),this.render=$=>es($||0===$?$:G),this.getVelocity=()=>X.getVelocity(-G),l.scrollerProxy(b,{scrollTop:eo,scrollHeight:()=>ep()&&i.scrollHeight,fixedMarkers:!1!==$.fixedMarkers&&!!W,content:_,getBoundingClientRect:()=>({top:0,left:0,width:r.innerWidth,height:r.innerHeight})}),l.defaults({scroller:b});let eu=l.getAll().filter($=>$.scroller===r||$.scroller===b);eu.forEach($=>$.revert(!0,!0)),x=l.create({animation:e.fromTo(ee,{y:0},{y:()=>-ep(),immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function(){if(this._dur){let $=L;$&&(er(x),ee.y=G),es(ee.y,$),Z(),V&&!A&&V(Y)}}}),onRefreshInit($){if(S.isRefreshing=!0,E){let _=l.getAll().filter($=>!!$.pin);E.forEach($=>{$.vars.pinnedContainer||_.forEach(_=>{if(_.pin.contains($.trigger)){let b=$.vars;b.pinnedContainer=_.pin,$.vars=null,$.init(b,$.animation)}})})}let T=$.getTween();B=T&&T._end>T._dp._time,H=G,ee.y=0,W&&(1===l.isTouch&&(b.style.position="absolute"),b.scrollTop=0,1===l.isTouch&&(b.style.position="fixed"))},onRefresh($){$.animation.invalidate(),$.setPositions($.start,ep()/j),B||er($),ee.y=-K()*j,es(ee.y),Q||$.animation.progress(e.utils.clamp(0,1,-(H/j/$.end))),B&&($.progress-=.001,$.update()),S.isRefreshing=!1},id:"ScrollSmoother",scroller:r,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:()=>ep()/j,onScrubComplete:()=>{X.reset(),D&&D(this)},scrub:W||!0}),this.smooth=function(_){return arguments.length&&(j=(W=_||0)&&+$.speed||1,x.scrubDuration(_)),x.getTween()?x.getTween().duration():0},x.getTween()&&(x.getTween().vars.ease=$.ease||d),this.scrollTrigger=x,$.effects&&this.effects(!0===$.effects?"[data-"+q+"speed], [data-"+q+"lag]":$.effects,{effectsPadding:$.effectsPadding}),$.sections&&this.sections(!0===$.sections?"[data-section]":$.sections),eu.forEach($=>{$.vars.scroller=b,$.revert(!1,!0),$.init($.vars,$.animation)}),this.paused=function($,_){return arguments.length?(!!A!==$&&($?(x.getTween()&&x.getTween().pause(),K(-G/j),X.reset(),(z=l.normalizeScroll())&&z.disable(),(A=l.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:()=>eo(-G)})).nested=g(s,"wheel,touch,scroll",!0,!1!==_)):(A.nested.kill(),A.kill(),A=0,z&&z.enable(),x.progress=(-G/j-x.start)/(x.end-x.start),er(x))),this):!!A},this.kill=this.revert=()=>{this.paused(!1),er(x),x.kill();let $=(E||[]).concat(P||[]),T=$.length;for(;T--;)$[T].kill();l.scrollerProxy(b),l.removeEventListener("killAll",ec),l.removeEventListener("refresh",ea),b.style.cssText=k,_.style.cssText=C;let A=l.defaults({});A&&A.scroller===b&&l.defaults({scroller:r}),this.normalizer&&l.normalizeScroll(!1),clearInterval(R),c=null,ei&&ei.disconnect(),i.style.removeProperty("height"),r.removeEventListener("focusin",en)},this.refresh=($,_)=>x.refresh($,_),M&&(this.normalizer=l.normalizeScroll(!0===M?{debounce:!0,content:!W&&_}:M)),l.config($),"overscrollBehavior"in r.getComputedStyle(i)&&e.set([i,s],{overscrollBehavior:"none"}),"scrollBehavior"in r.getComputedStyle(i)&&e.set([i,s],{scrollBehavior:"auto"}),r.addEventListener("focusin",en),R=setInterval(Z,250),"loading"===o.readyState||requestAnimationFrame(()=>l.refresh())}get progress(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}static register($){return t||(e=$||m(),u()&&window.document&&(r=window,s=(o=document).documentElement,i=o.body),e&&(n=e.utils.toArray,a=e.utils.clamp,d=e.parseEase("expo"),f=e.core.context||function(){},p=e.delayedCall(.2,()=>l.isRefreshing||c&&c.refresh()).pause(),l=e.core.globals().ScrollTrigger,e.core.globals("ScrollSmoother",S),i&&l&&(h=l.core._getVelocityProp,g=l.core._inputObserver,S.refresh=l.refresh,t=1))),t}}S.version="3.11.5",S.create=$=>c&&$&&c.content()===n($.content)[0]?c:new S($),S.get=()=>c,m()&&e.registerPlugin(S);export default S;export{S as ScrollSmoother};